<!DOCTYPE html>
<html xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity5"
      xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Edit Song</title>
</head>
<style>
    title{
        position: absolute;
    }
    label{
        margin: 50px;
    }
    button{
        margin:50px;
        background: darkblue;
    }
</style>
<body>
<div xmlns:th="http://www.thymeleaf.org">
    <form  th:action="@{/songs/add}"  th:method="POST">
        <input id="id" type="hidden" name="id"
               th:value="(${song} != null ? ${song.getId()} : '')">
        <div>
            <label for="title">Song title</label>
            <input type="text"
                   id="title"
                   name="title"
                   th:value="(${song} != null ? ${song.getTitle()} : '')"
                   required
                   placeholder="Enter song title">
        </div>
        <div>
            <label for="trackId">Track Id</label>
            <input type="text"
                   id="trackId"
                   name="trackId"
                   th:value="(${song} != null ? ${song.getId()} : '')"
                   placeholder="track id">
        </div>
        <div>
            <label for="genre">Genre</label>
            <input type="text"
                   id="genre"
                   name="genre"
                   th:value="(${song} != null ? ${song.getGenre()} : '')"
                   placeholder="genre">
        </div>
        <div>
            <label for="releaseYear">Release year</label>
            <input type="number"
                   id="releaseYear"
                   name="releaseYear"
                   th:value="(${song} != null ? ${song.getReleaseYear()} : '')"
                   placeholder="release year">
        </div>
        <div>
            <label>Album</label>
            <select name="album">
                <option th:if="${song} != null"
                        th:selected="${song.getAlbum() != null &&
                                song.getAlbum().getId() == album.getId()}"
                        th:each="album : ${albums}"
                        th:value="${album.getId()}"
                        th:text="${album.getName()}">
                </option>
                <option th:if="${song} == null"
                        th:each="album : ${albums}"
                        th:value="${album.getId()}"
                        th:text="${album.getName()}">
                </option>
            </select>
        </div>
        <button id="submit" type="submit">Submit</button>
        <button href="/songs">Back</button>
    </form>

</div>
</body>
</html>